/**
 * Created by feichongzheng on 16/12/18.
 */
// import './polyfill/MutationObserver';
import React from 'react';
import { Provider } from 'react-redux';
import createBrowserHistory from 'history/createBrowserHistory';
import { ConnectedRouter } from 'connected-react-router';
import initStore from './store';
var store = initStore();
import LocaleProvider from 'fay-react-ui/locale-provider';
import zh_CN from 'fay-react-ui/locale-provider/locale/zh_CN';
import 'fay-react-ui/res/antd/style';
import Auth from './auth';
var history = createBrowserHistory();
import { Route } from 'react-router-dom';
import Loading from './loading';
export default (function (_ref) {
  var root = _ref.root;
  return React.createElement(LocaleProvider, {
    locale: zh_CN
  }, React.createElement(Provider, {
    store: store
  }, React.createElement(ConnectedRouter, {
    history: history
  }, React.createElement(Auth, {
    unAuth: root.unAuth
  }, React.createElement(Route, {
    component: root
  }), React.createElement(Loading, null)))));
});