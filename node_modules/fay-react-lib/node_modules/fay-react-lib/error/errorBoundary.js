import _inheritsLoose from "@babel/runtime-corejs2/helpers/inheritsLoose";
import _assertThisInitialized from "@babel/runtime-corejs2/helpers/assertThisInitialized";
import _defineProperty from "@babel/runtime-corejs2/helpers/defineProperty";
import React from 'react';
import Button from 'rjd/button';

var ErrorBoundary =
/*#__PURE__*/
function (_React$Component) {
  _inheritsLoose(ErrorBoundary, _React$Component);

  function ErrorBoundary(props) {
    var _this;

    _this = _React$Component.call(this, props) || this;

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "goBack", function () {
      window.history.go(-1);
    });

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "goHome", function () {
      window.location.href = '/';
    });

    _this.state = {
      hasError: false
    };
    return _this;
  }

  var _proto = ErrorBoundary.prototype;

  _proto.componentDidCatch = function componentDidCatch(error, info) {
    this.setState({
      hasError: true
    });
  };

  _proto.render = function render() {
    if (this.state.hasError) {
      var info = this.props.info;
      return React.createElement("h1", null, info || React.createElement("div", null, "\u9875\u9762\u51FA\u73B0\u9519\u8BEF,\u52A0\u8F7D\u5931\u8D25", React.createElement("br", null), React.createElement(Button, {
        onClick: this.goBack
      }, "\u8FD4\u56DE\u4E0A\u4E00\u5C42"), React.createElement(Button, {
        onClick: this.goHome
      }, "\u8FD4\u56DE\u9996\u9875")));
    }

    return this.props.children;
  };

  return ErrorBoundary;
}(React.Component);

export { ErrorBoundary as default };